/*
 * Name:	TestVehicleSpawner
 * Date:	2018-12-01
 * Version: 1.0
 * Author:  Engima
 *
 * Description:
 * A test vehicle spawner.
 */

using Intrusion.Common;
using Intrusion.Server;

namespace Intrusion.Tests.Helpers
{
	public class TestVehicleSpawner : IVehicleSpawner
	{
		// Creates a TestVehicleSpawner object.
		public constructor {
			_self.SpawnedVehicles = [];
		};
		
		public property Array SpawnedVehicles { get; private set; };
		
		public method IntrusionVehicle SpawnProfessionVehicle("_group" as Group, "_vehicleClass" as String, "_professionType" as ProfessionType, "_cost" as Scalar)
		{
		    private ["_intrusionVehicle" as IntrusionVehicle];
			
			_intrusionVehicle = [objNull, west, _professionType, _group, _cost] new IntrusionVehicle;
			_self.SpawnedVehicles pushBack _vehicleClass;
			
			_intrusionVehicle
		};
		
		public method IntrusionVehicle SpawnFreeVehicle("_side" as Side) {};
		
		public method Scalar CountFreeVehiclesAtBase("_side" as Side) { 0 };
		
		// Deletes a profession vehicle belonging to a group from the map.
		// _group (Group): The group whose vehicle will be deleted.
		// Returns (Scalar): The production cost of the vehicle.
		public method Scalar DeleteProfessionVehicles("_group" as Group) { 100 };
	};
};
