/*
 * Name:	VehicleClassNamesConfig
 * Date:	2017-11-20
 * Version: 1.0
 * Author:  Engima
 *
 * Description:
 * A configuration class that handles all vehicle types (class names) in the mission.
 */
using Intrusion.Common;

namespace Intrusion.Server
{
	public class VehicleClassNamesConfig : IVehicleClassNamesConfig
	{
		private fields ["_mClassNamesInfos" as Array];
	
		// Creates a VehicleClassNamesConfig object.
		public constructor {
			private _westFreeVehicleCarTypes = ["B_MRAP_01_F", "B_Quadbike_01_F"];
			private _westTransportCarTypes = ["B_Truck_01_transport_F", "B_Truck_01_covered_F"];
			private _westFuelCarTypes = ["B_Truck_01_fuel_F"];
			private _westAmmoCarTypes = ["B_Truck_01_ammo_F"];
			private _westRepairCarTypes = ["B_Truck_01_Repair_F"];
			private _westMotorizedVehicleTypes = ["B_MRAP_01_gmg_F", "B_MRAP_01_hmg_F"];
			private _westMortarsVehicleTypes = ["B_MRAP_01_F"];
			private _westSniperVehicleTypes = ["B_Quadbike_01_F"];
			private _westAntiArmorVehicleTypes = ["B_MRAP_01_F"];
			private _westMechanizedVehicleTypes = ["B_APC_Wheeled_01_cannon_F", "B_APC_Tracked_01_rcws_F", "B_APC_Tracked_01_CRV_F"];
			private _westArmorVehicleTypes = ["B_APC_Tracked_01_AA_F", "B_MBT_01_cannon_F"];

			private _eastFreeVehicleCarTypes = ["O_MRAP_02_F", "O_Quadbike_01_F"];
			private _eastTransportCarTypes = ["O_Truck_02_transport_F", "O_Truck_02_covered_F"];
			private _eastFuelCarTypes = ["O_Truck_02_fuel_F"];
			private _eastAmmoCarTypes = ["O_Truck_03_ammo_F"];
			private _eastRepairCarTypes = ["O_Truck_02_box_F"];
			private _eastMotorizedVehicleTypes = ["O_MRAP_02_gmg_F", "O_MRAP_02_hmg_F"];
			private _eastMortarsVehicleTypes = ["O_MRAP_02_F"];
			private _eastSniperVehicleTypes = ["O_Quadbike_01_F"];
			private _eastAntiArmorVehicleTypes = ["O_MRAP_02_F"];
			private _eastMechanizedVehicleTypes = ["O_APC_Tracked_02_cannon_F", "O_APC_Wheeled_02_rcws_F"];
			private _eastArmorVehicleTypes = ["O_MBT_02_cannon_F", "O_APC_Tracked_02_AA_F"];
			
			_mClassNamesInfos = [
				[west, ProfessionType.Undefined, _westFreeVehicleCarTypes, []] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Transport, _westTransportCarTypes, []] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Fuel, _westFuelCarTypes, []] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Ammo, _westAmmoCarTypes, []] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Repair, _westRepairCarTypes, []] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Motorized, _westMotorizedVehicleTypes, []] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Mortars, _westMortarsVehicleTypes, ["B_Mortar_01_support_F", "B_Mortar_01_weapon_F"]] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Sniper, _westSniperVehicleTypes, []] new ProVehicleClassNamesInfo,
				[west, ProfessionType.AntiArmor, _westAntiArmorVehicleTypes, ["B_AT_01_weapon_F", "B_HMG_01_support_F"]] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Mechanized, _westMechanizedVehicleTypes, []] new ProVehicleClassNamesInfo,
				[west, ProfessionType.Armored, _westArmorVehicleTypes, []] new ProVehicleClassNamesInfo,
				
				[east, ProfessionType.Undefined, _eastFreeVehicleCarTypes, []] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Transport, _eastTransportCarTypes, []] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Fuel, _eastFuelCarTypes, []] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Ammo, _eastAmmoCarTypes, []] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Repair, _eastRepairCarTypes, []] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Motorized, _eastMotorizedVehicleTypes, []] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Mortars, _eastMortarsVehicleTypes, ["O_Mortar_01_support_F", "O_Mortar_01_weapon_F"]] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Sniper, _eastSniperVehicleTypes, []] new ProVehicleClassNamesInfo,
				[east, ProfessionType.AntiArmor, _eastAntiArmorVehicleTypes, ["O_AT_01_weapon_F", "O_HMG_01_support_F"]] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Mechanized, _eastMechanizedVehicleTypes, []] new ProVehicleClassNamesInfo,
				[east, ProfessionType.Armored, _eastArmorVehicleTypes, []] new ProVehicleClassNamesInfo,
			];
		};
		
		// Gets the vehicle class names by side and profession type.
		// _side (Side): Side.
		// _professionType (ProfessionType): Profession type.
		// Returns (Array): An array with vehicle class names. An empty array if no class names were found.
		public method ProVehicleClassNamesInfo GetProVehiclesClassNameInfo("_side" as Side, "_professionType" as ProfessionType) {
			[str _this + " VehicleClassNamesConfig.GetProVehiclesClassNameInfo"] call LogHandler.Debug;
			
			scopeName "main";
			
			{
				if (_x.Side == _side && _x.ProfessionType == _professionType) then {
					_x breakOut "main";
				};
			} foreach _mClassNamesInfos as ProVehicleClassNamesInfo;
			
			classNull
		};
	};
};
